/*!
 * Chart button for Buttons and DataTables.
 * By C.W., Onni software Ltd. New BSD License
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(b){return a(b,window,document)}):"object"==typeof exports?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("datatables.net")(b,c).$),c.fn.dataTable.Buttons||require("datatables.net-buttons")(b,c),a(c,b,b.document)}:a(jQuery,window,document)}(function(a,b,c,d){"use strict";function e(b){a("#table_filter").css("display",b),a(".dataTables_scroll").css("display",b),a(".dataTables_info").css("display",b),a("#table_paginate").css("display",b)}function f(b,d){var e=b.buttons.exportData(a.extend({decodeEntities:!1},d.exportOptions));e.body.sort(function(a,b){var c=new Date(a[0]).getTime(),d=new Date(b[0]).getTime();return c===d?0:d>c?-1:1});var f=a("caption").text(),g=e.body.map(function(a,b){return a[0]}),i=e.body.map(function(a,b){return[a[1],a[4],a[3],a[2]]}),j=e.body.map(function(a,b){return a[5]}),k=e.body.map(function(a,b){return a[6]});h.dataZoom[0].startValue=g[0],h.dataZoom[0].endValue=g[g.length-1],h.xAxis[0].data=g,h.series[0].data=i,h.series[0].name=f,h.series[1].data=j,h.series[1].name=f+" adjacent close",h.series[2].data=k,h.series[2].name=f+" volume",h.title[0].text=f;var l=echarts.init(c.getElementById("echart"));l.setOption(h)}var g=a.fn.dataTable,h=(c.createElement("a"),{_index_flag:5158195,backgroundColor:"#fff",color:["#c23531","#2f4554","#61a0a8","#d48265","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3","#f05b72","#ef5b9c","#f47920","#905a3d","#fab27b","#2a5caa","#444693","#726930","#b2d235","#6d8346","#ac6767","#1d953f","#6950a1","#918597","#f6f5ec"],dataZoom:[{endValue:"",orient:"horizontal",show:!0,startValue:"",type:"slider"}],legend:[{data:["K"],left:"center",orient:"horizontal",selectedMode:"multiple",show:!1,textStyle:{color:"#333",fontSize:12},top:"top"}],series:[{data:[],indexflag:5158195,markLine:{data:[]},markPoint:{data:[]},name:"Google Stock",type:"candlestick"},{symbol:"emptyCircle",xAxisIndex:0,step:!1,yAxisIndex:0,data:[],stack:"",showSymbol:!0,markLine:{data:[]},name:"x",type:"line",smooth:!1,label:{emphasis:{show:!0},normal:{position:"top",textStyle:{color:"#000",fontSize:12},formatter:null,show:!1}},markPoint:{data:[]},areaStyle:{},lineStyle:{normal:{opacity:1,width:1,type:"solid",curveness:0,color:"#039"}}},{markLine:{data:[]},itemStyle:{normal:{color:"#61a0a8"}},yAxisIndex:1,name:"Volume",markPoint:{data:[]},data:[],xAxisIndex:0,type:"bar",stack:"",label:{emphasis:{show:!0},normal:{position:"top",textStyle:{color:"#000",fontSize:12},formatter:null,show:!1}}}],title:[{left:"center",subtext:"",subtextStyle:{color:"#000",fontSize:12},text:"Google stock",textStyle:{color:"#000",fontSize:18},top:"auto"}],toolbox:{feature:{saveAsImage:{show:!0,title:"Download"}},left:"95%",orient:"vertical",show:!0,top:"center"},tooltip:{axisPointer:{type:"line"},formatter:d,textStyle:{color:"#fff",fontSize:14},trigger:"item",triggerOn:"mousemove|click"},xAxis:[{axisLabel:{interval:"auto",margin:8,rotate:0},axisTick:{alignWithLabel:!1},data:[],lineStyle:{color:"#039"},inverse:!1,max:d,min:d,name:"",nameGap:25,nameLocation:"middle",nameTextStyle:{fontSize:14},position:d,boundaryGap:!0,scale:!0,type:"category"}],yAxis:[{axisLabel:{formatter:"{value} ",interval:"auto",margin:8,rotate:0},axisTick:{alignWithLabel:!1},inverse:!1,max:d,min:d,name:"",nameGap:25,nameLocation:"middle",nameTextStyle:{fontSize:14},position:d,scale:!0,splitArea:{show:!0},type:"value"},{nameLocation:"middle",axisTick:{alignWithLabel:!1},inverse:!1,name:"",min:null,max:null,axisLabel:{formatter:"{value} ",margin:8,rotate:0,interval:"auto"},nameTextStyle:{fontSize:14},nameGap:25,position:null,type:"value"},{nameLocation:"middle",axisTick:{alignWithLabel:!1},inverse:!1,name:"",min:null,max:null,axisLabel:{formatter:"{value}",margin:8,rotate:0,interval:"auto"},nameTextStyle:{fontSize:14},nameGap:25,position:null,type:"value"}]});return g.ext.buttons.chart={className:"buttons-chart",text:function(a){return a.i18n("buttons.chart","chart")},action:function(b,c,d,g){"chart"===d.text()?(e("none"),a("#echart").attr("_echarts_instance_")?(a("#echart").css("visibility","visible"),d.hasChart=!0):(a("#echart").css("height",a(".dataTables_scroll").css("height")),f(c,g)),d.text("table")):(e("block"),a("#echart").css("visibility","hidden"),d.text("chart")),console.log(d.text())},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:d},g.Buttons});
